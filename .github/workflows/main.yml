name: Unzip Archive File

on:
  workflow_dispatch:  # allows manual run
  push:
    branches: [ main ]

jobs:
  unzip:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          lfs: true  # if you used Git LFS for large files

      - name: Verify file exists
        run: |
          echo "Checking for archive.zip..."
          ls -lh
          test -f archive.zip || (echo "❌ archive.zip not found!" && exit 1)

      - name: Ensure unzip is available
        run: sudo apt-get update && sudo apt-get install -y unzip

      - name: Unzip archive.zip
        run: |
          echo "Unzipping archive.zip..."
          unzip -o archive.zip -d unzipped/
          echo "✅ Done. Extracted contents:"
          ls -R unzipped/
